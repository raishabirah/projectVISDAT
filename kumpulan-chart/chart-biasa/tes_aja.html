<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Students Performance</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>


<style>
    body {
  max-width: 800px;
  margin: 25px auto;
  font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
  font-size: small;
}

.bar { 
    fill: rgb(115, 170, 190); 
    }
</style>
<body>
    
    <!-- load the d3.js library -->    	
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Load boostrap library-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script


    <!-- Title Atas -->
    <h1 class="text-center">Students Performance Chart in Exam</h1>
    <h4 class="fs-5 fw-semibold text-center">Hubungan tingkat pendidikan orang tua <br>dengan rata-rata nilai test anaknya</h4>

    <div class="mt-3 ms-3" id="data1">
        <script>
            //set the dimension and margins of the graph
            var margin = { top:30, right: 30, bottom:70, left:60},
            width = 460 - margin.left - margin.right,
            height = 400 - margin.top - margin.bottom;

            //append the svg object to the body of the page
            var svg = d3.select("#data1")
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform",
            "translate("+ margin.left + "," + margin.top +")");

            //parse the data
            d3.csv("data/parental_average_test.csv", function(data) {

                //sort data
                data.sort(function(b,a) {
                    return a.average_test - b.average_test;
                });

                // Add X axis
                var x = d3.scaleBand()
                .range([0, width])
                .domain(data.map(function(d) { return d.level_of_education;}))
                .padding(0.2);

                svg.append("g")
                .attr("transform", "translate(-10,0)rotate(-45)")
                .style("text-anchor", "end")});

                // Add Y axis
                var y = d3.scaleLinear()
                .domain([0,100])
                .range([height, 0]);
                svg.append("g")
                .call(d3.axisLeft(y));

                // Bars
                svg.selectAll("data1")
                .data(data)
                .enter()
                .append("rect")
                .attr("x", function(d) { return x(d.level_of_education); })
                .attr("y", function(d) { return y(d.average_test); })
                .attr("height", function(d) { return height - y(d.average_test); })
                .attr("width", x.bandwith())
                .attr("fill", "#ffa600")
                

        </script>


<!-- TES LAGI-->
<script>



</script>

<!-- END TES-->

    </div>



</body>
</html>


